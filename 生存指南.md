### lldb 的使用

- b 断点
- r 运行直到断点
- s 进入
- n 下一步
- bt 栈
- f 帧
- c 继续执行

可以参考 https://dbgtech.github.io/Tools/lldb-using.html

#### 查看对象模型

```lldb
im look -r -v -s "vtable for A"
```

#### 查看汇编

```lldb
disassemble --frame
```

#### python api

1. 启动 python 解释器

```lldb
script
```

2. 获取当前 frame

```py
frame = lldb.frame
```

3. 遍历虚函数表

```py
>>> for i in range(8):
...     lldb.debugger.HandleCommand(f"p (Func)(vptr1[{i}])")
...
(Func) $0 = 0x0000000100002f54 (p3_4.out`Derived::f() at p3_4.cc:34)
(Func) $1 = 0x0000000100002f90 (p3_4.out`Base1::g() at p3_4.cc:13)
(Func) $2 = 0x0000000100002fcc (p3_4.out`Derived::i() at p3_4.cc:39)
(Func) $3 = 0x0000000100003008 (p3_4.out`Derived::h() at p3_4.cc:43)
(Func) $4 = 0x0000000100003044 (p3_4.out`Derived::mh() at p3_4.cc:48)
(Func) $5 = 0x0000000100003080 (p3_4.out`Derived::mi() at p3_4.cc:52)
(Func) $6 = 0x00000001000030bc (p3_4.out`Derived::mj() at p3_4.cc:56)
(Func) $7 = 0xfffffffffffffff8
```

### objdump

```sh
objdump -d <可执行文件>
```

查看编译器生成的默认构造函数

```sh
objdump -C -t <可执行文件>
```

`-C` 选项表示对 C++ 符号进行 demangling（符号重整），`-t` 选项表示显示符号表。因此，`objdump -C -t <可执行文件>` 命令将显示带有符号重整的符号表。

显示汇编
